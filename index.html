<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Switcher de Langue</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="lang-switch">
        <button onclick="switchLang('fr')">Français</button>
        <button onclick="switchLang('en')">English</button>
    </div>

    <div class="nav">
        <button onclick="loadPage('introduction')">Présentation</button>
        <button onclick="loadPage('projects')">Projets</button>
        <button onclick="loadPage('contact')">Contact</button>
    </div>

    <div id="content">
        <!-- Le contenu des autres pages sera chargé ici -->
    </div>

    <script>
        let currentLang = 'fr';
        let content = {};

        // Charger les traductions
        function loadTranslations(lang) {
            fetch(`${lang}.json`)
                .then(response => response.json())
                .then(data => {
                    content = data;
                    loadPage('introduction'); // Charger la page par défaut
                });
        }

        // Charger une page HTML et insérer les données du JSON
        function loadPage(page) {
            fetch(`${page}.html`)
                .then(response => response.text())
                .then(html => {
                    document.getElementById('content').innerHTML = html;

                    // Appliquer les traductions après le chargement de la page
                    applyTranslations(page);
                });
        }

      // Appliquer les traductions sur la page actuelle
        function applyTranslations(page) {
            // Récupérer les éléments HTML où le texte sera mis à jour
            const titleElement = document.getElementById('title');
            const contentElement = document.getElementById('content-text');

            // Vérifier si les éléments existent et si le contenu pour la page est disponible
            if (titleElement && contentElement && content[page]) {
                // Mettre à jour le titre et le contenu principal de la page
                titleElement.textContent = content[page].title;
                contentElement.textContent = content[page].content;

                // Appliquer les traductions pour les nouveaux éléments selon la page
                if (page === 'introduction') {
                    // Mettre à jour les éléments spécifiques à la page d'introduction
                    document.getElementById('subheading').textContent = content[page].subheading;
                    document.getElementById('extra-info').textContent = content[page].extra_info;
                    document.getElementById('feature1').textContent = content[page].features.feature1;
                    document.getElementById('feature2').textContent = content[page].features.feature2;
                    document.getElementById('feature3').textContent = content[page].features.feature3;
                } else if (page === 'projects') {
                    // Mettre à jour les éléments spécifiques à la page des projets
                    document.getElementById('project-title').textContent = content[page].project_title;
                    document.getElementById('project1').textContent = content[page].projects.project1;
                    document.getElementById('project2').textContent = content[page].projects.project2;
                    document.getElementById('project3').textContent = content[page].projects.project3;
                }
            }
        }

        // Changer de langue
        function switchLang(lang) {
            currentLang = lang;
            loadTranslations(lang);
        }

        // Charger la langue par défaut
        loadTranslations(currentLang);
    </script>
</body>
</html>
