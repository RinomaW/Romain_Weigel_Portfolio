<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Switcher de Langue</title>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" href="path/to/favicon.ico" type="image/x-icon">

</head>
<body>
    <div class="nav">
        <!-- Image à gauche de la nav -->
        <img id="presentation-image-nav" src="./static/photoCV.jpg" alt="Présentation Image">
        <button onclick="loadPage('introduction')">Présentation</button>
        <button onclick="loadPage('projects')">Projets</button>
        <button onclick="loadPage('contact')">Contact</button>
        <div class="lang-switch">
            <button onclick="switchLang('fr')">Français</button>
            <button onclick="switchLang('en')">English</button>
        </div>
    </div>

    <div id="content">
        <!-- Le contenu des autres pages sera chargé ici -->
    </div>

    <!-- Footer -->
    <footer>
        <div class="footer-content">
            <p>&copy; 2024 MonSite. Tous droits réservés.</p>
            <div class="socials">
                <a href="#">Facebook</a> |
                <a href="#">Twitter</a> |
                <a href="#">LinkedIn</a>
            </div>
            <p>Contact: <a href="mailto:contact@monsite.com">contact@monsite.com</a></p>
        </div>
    </footer>

    <script>
        let currentLang = 'fr';
        let content = {};

        // Charger les traductions
        function loadTranslations(lang) {
            fetch(`${lang}.json`)
                .then(response => response.json())
                .then(data => {
                    content = data;
                    loadPage('introduction'); // Charger la page par défaut
                });
        }

        function loadPage(page) {
    fetch(`${page}.html`)
        .then(response => {
            if (!response.ok) {
                throw new Error(`Erreur HTTP : ${response.status}`);
            }
            return response.text();
        })
        .then(html => {
            document.getElementById('content').innerHTML = html;

            // Appliquer les traductions après le chargement de la page
            applyTranslations(page);
        })
        .catch(error => {
            console.error('Erreur lors du chargement de la page :', error);
            document.getElementById('content').innerHTML = '<p>Une erreur est survenue lors du chargement de la page.</p>';
        });
}




     // Appliquer les traductions sur la page actuelle
// Appliquer les traductions sur la page actuelle
function applyTranslations(page) {
    const titleElement = document.getElementById('title');
    const contentElement = document.getElementById('content-text');

    if (titleElement && contentElement && content[page]) {
        titleElement.textContent = content[page].title;
        contentElement.textContent = content[page].content;

        if (page === 'introduction') {
            document.getElementById('subheading').textContent = content[page].subheading;
            document.getElementById('title_personal').textContent = content[page].title_personal;

            // Remplir les informations personnelles
            const personalInfo = content[page].personal_info;
            document.getElementById('personal-etat-civil').textContent = personalInfo.etat_civil;
            document.getElementById('personal-telephone').textContent = personalInfo.telephone;
            document.getElementById('personal-email').textContent = personalInfo.email;
            document.getElementById('personal-adresse').textContent = personalInfo.adresse;
            document.getElementById('personal-date-naissance').textContent = personalInfo.date_naissance;
            document.getElementById('personal-permis').textContent = personalInfo.permis;

            // Remplir les informations de formation
            const education = content[page].education;
            document.getElementById('formation1-title').textContent = education.formation1.title;
            document.getElementById('formation1-specialization').textContent = education.formation1.specialization;
            document.getElementById('formation1-dates').textContent = education.formation1.dates;
            document.getElementById('formation1-institution').textContent = education.formation1.institution;

            document.getElementById('formation2-title').textContent = education.formation2.title;
            document.getElementById('formation2-specialization').textContent = education.formation2.specialization;
            document.getElementById('formation2-dates').textContent = education.formation2.dates;
            document.getElementById('formation2-institution').textContent = education.formation2.institution;
        }
    }
        // Vérifiez si la page est "projects"
        if (page === 'projects') {
            const projectTitleElement = document.getElementById('project-title');
            const projectListElement = document.getElementById('project-list'); 

            if (projectTitleElement && projectListElement) {
                projectTitleElement.textContent = content[page].project_title;
                projectListElement.innerHTML = ''; 
                
                Object.keys(content[page].projects).forEach(projectKey => {
                    const project = content[page].projects[projectKey];

                    const projectItem = document.createElement('div');
                    projectItem.classList.add('project-item');

                    const projectTitle = document.createElement('h3');
                    projectTitle.textContent = project.title;
                    projectItem.appendChild(projectTitle);

                    const projectDescription = document.createElement('p');
                    projectDescription.textContent = project.description;
                    projectItem.appendChild(projectDescription);

                    const projectReleaseDate = document.createElement('p');
                    projectReleaseDate.textContent = `Date de création: ${project.release_date}`;
                    projectReleaseDate.classList.add('release-date');
                    projectItem.appendChild(projectReleaseDate);

                    if (project.images && project.images.length > 0) {
                        const imageContainer = document.createElement('div');
                        imageContainer.classList.add('image-container');
                        
                        project.images.forEach(imageSrc => {
                            const imgLink = document.createElement('a');
                            imgLink.href = imageSrc;
                            imgLink.target = "_blank"; 

                            const img = document.createElement('img');
                            img.src = imageSrc;
                            img.alt = `${project.title} image`;

                            imgLink.appendChild(img); 
                            imageContainer.appendChild(imgLink);
                        });
                        
                        // Ajout du PDF sous forme d'embed si le lien existe
                        if (project.pdf_link) {
                            const pdfEmbed = document.createElement('embed');
                            pdfEmbed.src = project.pdf_link;
                            pdfEmbed.type = "application/pdf";
                            pdfEmbed.classList.add('pdf-embed');
                            pdfEmbed.width = "240"; // Ajuster la largeur pour l'alignement
                            pdfEmbed.height = "320"; // Ajuster la hauteur pour la visibilité

                            imageContainer.appendChild(pdfEmbed);
                        }

                        projectItem.appendChild(imageContainer);
                    }

                    if (project.youtube_link) {
                        const youtubeLink = document.createElement('a');
                        youtubeLink.href = project.youtube_link;
                        youtubeLink.textContent = "Voir sur YouTube";
                        youtubeLink.target = "_blank";
                        projectItem.appendChild(youtubeLink);
                    }

                    if (project.other_link) {
                        const otherLink = document.createElement('a');
                        otherLink.href = project.other_link;
                        otherLink.textContent = "Lien du projet";
                        otherLink.target = "_blank";
                        projectItem.appendChild(otherLink);
                    }
                    // PDF link
                    if (project.pdf_link) {
                                    const pdfLink = document.createElement('a');
                                    pdfLink.href = project.pdf_link;
                                    pdfLink.textContent = "Ouvrir la documentation PDF";
                                    pdfLink.target = "_blank";
                                    pdfLink.classList.add('pdf-link');
                                    projectItem.appendChild(pdfLink);
                                }

                    projectListElement.appendChild(projectItem);
                });
            }
        }
        }



        function switchLang(lang) {
            currentLang = lang;
            loadTranslations(lang);
        }

        loadTranslations(currentLang);
    </script>
</body>
</html>
